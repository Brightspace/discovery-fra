<!--
@license
Copyright (c) 2016 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<!doctype html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, minimum-scale=1, initial-scale=1, user-scalable=yes">

		<title>Discovery</title>
		<meta name="description" content="Discovery">

		<!-- See https://goo.gl/OOhYW5 -->
		<link rel="manifest" href="manifest.json">

		<script>
			/**
			 * [polymer-root-path]
			 *
			 * By default, we set `Polymer.rootPath` to the server root path (`/`).
			 * Leave this line unchanged if you intend to serve your app from the root
			 * path (e.g., with URLs like `my.domain/` and `my.domain/view1`).
			 *
			 * If you intend to serve your app from a non-root path (e.g., with URLs
			 * like `my.domain/my-app/` and `my.domain/my-app/view1`), edit this line
			 * to indicate the path from which you'll be serving, including leading
			 * and trailing slashes (e.g., `/my-app/`).
			 */
			window.DiscoveryApp = { rootPath: '/' };

			// Load and register pre-caching Service Worker
			if ('serviceWorker' in navigator) {
				window.addEventListener('load', function() {
					navigator.serviceWorker.register('service-worker.js', {
						scope: window.DiscoveryApp.rootPath,
					});
				});
			}

			// Shado DOM still has issues with iFrau
			window.ShadyDOM = { force: true };
		</script>

		<!-- Load webcomponents-loader.js to check and load any polyfills your browser needs -->
		<script src="node_modules/@webcomponents/webcomponentsjs/webcomponents-loader.js"></script>

		<!-- Load IFrau -->
		<script src="https://s.brightspace.com/lib/ifrau/0.24.1/ifrau/client.js"></script>

		<!-- Load your application shell -->
		<script type="module" src="src/discovery-app.js"></script>
		<script type="module" src="src/discovery-init.js"></script>

		<!-- d2l-typography is imported in discovery-init -->
		<custom-style include="d2l-typography">
			<style is="custom-style" include="d2l-typography"></style>
		</custom-style>
		<!-- Add any global styles for body, document, etc. -->
		<style>
			body {
				background-color: #f9fafb;
				margin: 0;
			}

			iron-overlay-backdrop {
				background-color: white;
			}
		</style>
	</head>
	<body unresolved class="d2l-typography">
		<discovery-init element-name="discovery-app"></discovery-init>
		<noscript>
			Please enable JavaScript to view this website.
		</noscript>
		<!-- Built with love using Polymer Starter Kit -->
	</body>
	<script>
		document.body.classList.add('d2l-typography');
	</script>
</html>
